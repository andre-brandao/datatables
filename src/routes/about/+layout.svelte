<script lang="ts">
    import Nav from './Nav.svelte'
    import type { Snippet } from 'svelte'
    import MobileNav from './Nav_Mobile.svelte'
    import { path } from 'gros/page'

    const nav = [
        {
            title: `Change log`,
            page: 'CHANGELOG.md',
            icon: `<svg width="24px" height="24px" viewBox="0 0 24 24"><path fill="currentColor" d="M12 21q-3.32 0-5.81-2.079q-2.492-2.079-3.056-5.28q-.042-.214.093-.379q.134-.164.348-.195t.375.104t.21.348q.54 2.818 2.735 4.65T12 20q3.35 0 5.675-2.325T20 12t-2.325-5.675T12 4Q9.639 4 7.685 5.255Q5.733 6.509 4.754 8.673h2.515q.213 0 .356.144t.144.357t-.144.356t-.356.143H4.495q-.45 0-.715-.37t-.09-.774Q4.722 6.04 6.98 4.52Q9.236 3 12 3q1.868 0 3.51.709t2.858 1.922t1.923 2.857t.709 3.509t-.709 3.51q-.708 1.643-1.923 2.859t-2.858 1.925T12 21m.5-9.208l2.5 2.52q.14.133.14.34t-.14.358t-.354.14q-.213-.01-.354-.15l-2.544-2.544q-.136-.137-.192-.28t-.056-.297V8.23q0-.213.144-.356t.357-.144t.356.144t.143.356z"/></svg>`
        },
        {
            title: `Contributing`,
            page: 'CONTRIBUTING.md',
            icon: `<svg width="24px" height="24px" viewBox="0 0 24 24"><path fill="currentColor" d="M11.702 19.942q.196 0 .402-.088t.333-.215l7.796-7.797q.377-.377.582-.77q.204-.395.204-.866q0-.477-.204-.926q-.205-.45-.582-.82l-3.75-3.75q-.371-.377-.763-.553q-.391-.176-.868-.176q-.471 0-.875.176t-.761.552l-.872.872l1.85 1.855q.298.293.445.666q.146.373.146.757q0 .781-.511 1.292t-1.291.51q-.385 0-.751-.117t-.659-.41L9.66 8.228l-4.318 4.317q-.151.152-.227.345t-.076.39q0 .354.227.583q.226.23.58.23q.196 0 .402-.088q.206-.089.333-.216L9.75 10.62l.708.708l-3.164 3.17q-.152.151-.228.344q-.075.194-.075.39q0 .335.236.571t.571.237q.196 0 .402-.089t.333-.215l3.4-3.394l.708.707l-3.395 3.4q-.133.127-.218.333q-.086.206-.086.402q0 .334.237.57q.236.238.571.238q.196 0 .39-.076t.344-.228l3.4-3.395l.708.708l-3.4 3.4q-.151.152-.227.365t-.076.389q0 .354.249.571t.564.217m-.006 1q-.771 0-1.32-.564q-.549-.565-.482-1.394q-.85.01-1.415-.507q-.565-.518-.537-1.444q-.926.01-1.46-.53t-.486-1.422q-.834.01-1.396-.47q-.561-.478-.561-1.332q0-.385.149-.77q.149-.386.44-.678L9.66 6.806l2.582 2.582q.127.133.314.219t.421.085q.321 0 .567-.224t.247-.584q0-.234-.086-.42q-.086-.187-.218-.314l-3.44-3.44q-.372-.377-.773-.553t-.878-.176q-.471 0-.856.176q-.384.176-.761.553L3.735 7.76q-.322.32-.52.765q-.198.444-.21.917q-.01.339.058.651t.22.588l-.758.758q-.252-.402-.394-.926T2 9.443q.012-.682.273-1.305t.748-1.111l3.025-3.025q.523-.518 1.107-.77q.584-.251 1.263-.251t1.252.252q.574.251 1.092.769l.87.871l.872-.871q.523-.518 1.097-.77q.574-.251 1.253-.251t1.263.252q.583.251 1.1.769l3.726 3.725q.517.517.798 1.161t.28 1.323q0 .68-.28 1.253t-.798 1.092l-7.797 7.79q-.311.312-.678.454q-.366.142-.77.142M8.491 8.327"/></svg>`
        },
        {
            title: `License`,
            page: 'LICENSE',
            icon: `<svg width="24px" height="24px" viewBox="0 0 24 24"><path fill="currentColor" d="M12 12q-.846 0-1.423-.577T10 10t.577-1.423T12 8t1.423.577T14 10t-.577 1.423T12 12m0 7.962l-3.963 1.184q-.385.137-.711-.11Q7 20.787 7 20.374V14.87q-.95-.934-1.475-2.192T5 10q0-2.931 2.034-4.966Q9.067 3 11.997 3t4.967 2.034T19 10q0 1.421-.525 2.679T17 14.87v5.504q0 .413-.326.66t-.71.111zM12 16q2.5 0 4.25-1.75T18 10t-1.75-4.25T12 4T7.75 5.75T6 10t1.75 4.25T12 16m-4 4.044l4-1.121l4 1.121v-4.33q-.836.615-1.863.95q-1.026.336-2.141.336t-2.137-.335T8 15.714zm4-2.165"/></svg>`
        }
    ]

    type Props = { children: Snippet }
    let { children }: Props = $props()
    let element: HTMLElement
    $effect(() => {
        path.current
        if (element) element.scrollTop = 0
    })
</script>


<Nav {nav}/>
<MobileNav {nav}/>
<section class="thin-scrollbar" bind:this={element}>
    <article class="md">
        {@render children()}
    </article>
</section>

<style>
    section {
        position: absolute;
        top: 0;
        bottom: 0;
        left: calc(240px + 32px);
        right: 0;
        overflow-y: auto;
        padding: 0 72px;
        color: var(--font);
    }
    article {
        margin: 0;
        margin-bottom: 80px;
        max-width: 1080px;
    }
    @media (min-width: 1200px) {
        section {
            left: calc(240px + 96px);
        }
    }
    @media (max-width: 800px) {
        section {
            left: 0;
            top: 48px;
            padding: 0 16px;
        }
    }
</style>